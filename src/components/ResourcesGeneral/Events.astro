---
import { EVENTS } from "src/const/events.const";
---

<div class="flex flex-col sm:gap-6 gap-12">
  {
    EVENTS.map((event) => (
      <div class="flex flex-col sm:flex-row bg-gray-900/50 rounded-xl gap-6 items-start sm:items-center">
        <div class="flex-1 space-y-3 order-2 sm:order-1">
          <h2 class="text-2xl font-bold text-white">{event.title}</h2>
          <p class="text-gray-300">{event.description}</p>
          <div class="flex justify-evenly sm:justify-between">
            <p class="text-gray-400 font-semibold">
              {event.site ? (
                <a
                  href={`https://${event.site}`}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-cyan-300 hover:text-cyan-400"
                >
                  {event.speaker}
                </a>
              ) : (
                event.speaker
              )}
            </p>

            {event.repository && (
              <a
                href={event.repository}
                target="_blank"
                class="text-cyan-300 hover:text-cyan-400 font-medium"
              >
                Ver repositorio
              </a>
            )}
          </div>
        </div>

        <div class="flex-1 w-full sm:max-w-lg aspect-[16/9] rounded-xl overflow-hidden shadow-lg order-1 sm:order-2">
          {event.type === "video" ? (
            <iframe
              class="w-full h-full rounded-xl"
              src={event.media}
              title={event.title}
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            />
          ) : (
            <img
              src={event.media}
              alt={event.title}
              class="w-full h-full object-cover rounded-xl"
            />
          )}
        </div>
      </div>
    ))
  }

  <div class="text-center mt-8">
    <a
      href="https://lu.ma/shareit"
      target="_blank"
      class="text-primary hover:text-secondary"
      rel="noopener noreferrer"
      aria-label="Repositorio de la comunidad"
    >
      ¿Quieres conocer los siguiente eventos? ¡Hazlo aquí! →
    </a>
  </div>
</div>
